<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Для Зейнаб ❤️</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(to bottom, #ff9a9e, #fad0c4);
            font-family: 'Arial', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .message {
            position: relative;
            z-index: 10;
            text-align: center;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }

        .message h1 {
            font-size: 5vw;
            margin-bottom: 20px;
        }

        @media (max-width: 767px) {
            .message h1 {
                font-size: 8vw;
            }
        }

        .heart-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #ff5e62;
            transform-origin: center;
            animation: float 5s infinite linear;
            transform-style: preserve-3d;
            z-index: 1;
            -webkit-transform-style: preserve-3d;
        }

        .heart::before, .heart::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ff5e62;
            border-radius: 50%;
        }

        .heart::before {
            left: -50%;
        }

        .heart::after {
            top: -50%;
        }

        @keyframes float {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg) rotateY(0deg);
                -webkit-transform: translateY(0) translateX(0) rotate(0deg) rotateY(0deg);
            }
            33% {
                transform: translateY(-50px) translateX(50px) rotate(120deg) rotateY(180deg);
                -webkit-transform: translateY(-50px) translateX(50px) rotate(120deg) rotateY(180deg);
            }
            66% {
                transform: translateY(50px) translateX(-30px) rotate(240deg) rotateY(0deg);
                -webkit-transform: translateY(50px) translateX(-30px) rotate(240deg) rotateY(0deg);
            }
            100% {
                transform: translateY(0) translateX(0) rotate(360deg) rotateY(180deg);
                -webkit-transform: translateY(0) translateX(0) rotate(360deg) rotateY(180deg);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                -webkit-transform: scale(1);
            }
            50% {
                transform: scale(1.05);
                -webkit-transform: scale(1.05);
            }
            100% {
                transform: scale(1);
                -webkit-transform: scale(1);
            }
        }

        .sparkle {
            position: absolute;
            background-color: #fff;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            opacity: 0;
            animation: sparkle 2s infinite;
            pointer-events: none;
        }

        @keyframes sparkle {
            0% {
                opacity: 0;
                transform: scale(0);
                -webkit-transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
                -webkit-transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
                -webkit-transform: scale(0);
            }
        }

        .btn {
            margin-top: 30px;
            padding: 15px 30px;
            background-color: rgba(255, 255, 255, 0.3);
            border: 2px solid white;
            color: white;
            border-radius: 30px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -webkit-appearance: none;
            appearance: none;
            outline: none;
            position: relative;
            z-index: 100;
        }

        .btn:active {
            background-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
            -webkit-transform: scale(1.05);
        }
        
        /* Явный класс активного состояния для мобильных устройств */
        .btn-active {
            background-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
            -webkit-transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="heart-container" id="heart-container"></div>
    
    <div class="message">
        <h1>Зейнаб, я тебя люблю ❤️</h1>
        <a href="javascript:void(0);" class="btn" id="more-hearts" role="button">Больше сердец</a>
    </div>

    <script>
        // Создаем сердечки
        function createHearts(count) {
            const container = document.getElementById('heart-container');
            
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                
                // Случайное положение
                const xPos = Math.random() * 100;
                const yPos = Math.random() * 100;
                
                // Случайный размер
                const size = 20 + Math.random() * 40;
                
                // Случайная задержка анимации
                const delay = Math.random() * 5;
                
                // Случайная длительность анимации
                const duration = 5 + Math.random() * 10;
                
                // Случайный оттенок красного/розового
                const hue = 340 + Math.random() * 40;
                const saturation = 70 + Math.random() * 30;
                const lightness = 50 + Math.random() * 20;
                
                heart.style.left = `${xPos}%`;
                heart.style.top = `${yPos}%`;
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationDuration = `${duration}s`;
                heart.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
                
                // Устанавливаем тот же цвет для псевдоэлементов
                heart.style.setProperty('--heart-color', `hsl(${hue}, ${saturation}%, ${lightness}%)`);
                
                container.appendChild(heart);
                
                // Добавляем блестки вокруг сердечек
                for (let j = 0; j < 3; j++) {
                    const sparkle = document.createElement('div');
                    sparkle.classList.add('sparkle');
                    
                    const sparkleXOffset = (Math.random() - 0.5) * 50;
                    const sparkleYOffset = (Math.random() - 0.5) * 50;
                    
                    sparkle.style.left = `calc(${xPos}% + ${sparkleXOffset}px)`;
                    sparkle.style.top = `calc(${yPos}% + ${sparkleYOffset}px)`;
                    sparkle.style.animationDelay = `${Math.random() * 2}s`;
                    
                    container.appendChild(sparkle);
                }
            }
        }
        
        // Создаем эффект взрыва сердец
        function createHeartBurst() {
            // Создаем эффект взрыва сердец из центра
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 150;
                    const xPos = 50 + Math.cos(angle) * distance / window.innerWidth * 100;
                    const yPos = 50 + Math.sin(angle) * distance / window.innerHeight * 100;
                    
                    const size = 10 + Math.random() * 25;
                    
                    heart.style.left = `${xPos}%`;
                    heart.style.top = `${yPos}%`;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    
                    document.getElementById('heart-container').appendChild(heart);
                    
                    // Удаляем сердечко через некоторое время
                    setTimeout(() => {
                        heart.style.transition = 'all 1s';
                        heart.style.opacity = '0';
                        heart.style.transform = 'scale(0)';
                        
                        setTimeout(() => {
                            heart.remove();
                        }, 1000);
                    }, 5000);
                }, i * 100);
            }
        }
        
        // Создаем начальное количество сердец
        createHearts(20);
        
        document.addEventListener('DOMContentLoaded', function() {
            // Получаем кнопку "Больше сердец"
            const moreHeartsBtn = document.getElementById('more-hearts');
            
            // Функция для создания дополнительных сердец
            function addMoreHearts() {
                createHearts(10);
                createHeartBurst();
                
                // Добавляем и убираем класс активности для визуального отклика
                moreHeartsBtn.classList.add('btn-active');
                setTimeout(function() {
                    moreHeartsBtn.classList.remove('btn-active');
                }, 300);
            }
            
            // Добавляем несколько слушателей событий для максимальной совместимости
            
            // 1. Стандартное нажатие для всех устройств
            moreHeartsBtn.addEventListener('click', function(e) {
                e.preventDefault();
                addMoreHearts();
            });
            
            // 2. События сенсорного экрана для iOS
            moreHeartsBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                this.classList.add('btn-active');
            }, { passive: false });
            
            moreHeartsBtn.addEventListener('touchend', function(e) {
                e.preventDefault();
                this.classList.remove('btn-active');
                addMoreHearts();
            }, { passive: false });
            
            // 3. Устанавливаем прямой обработчик onclick для максимальной совместимости
            moreHeartsBtn.onclick = function(e) {
                if (e) e.preventDefault();
                addMoreHearts();
                return false;
            };
        });
        
        // Инициализация после полной загрузки
        window.onload = function() {
            // Убедимся, что кнопка работает даже если DOMContentLoaded уже прошел
            const moreHeartsBtn = document.getElementById('more-hearts');
            if (!moreHeartsBtn.onclick) {
                moreHeartsBtn.onclick = function(e) {
                    if (e) e.preventDefault();
                    createHearts(10);
                    createHeartBurst();
                    return false;
                };
            }
        };
    </script>
</body>
</html>